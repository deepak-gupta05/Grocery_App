import{u as M,B as $,r as c,j as e}from"./index-zOajYoFv.js";const S=()=>{const{cartItems:h,totalPrice:i,clearCart:k}=M(),u=$(),[m,x]=c.useState({name:"",address:"",phone:"",slot:"",screenshot:null}),[f,d]=c.useState(!1),[w,j]=c.useState(!1),t=o=>{const{name:a,value:r,files:s}=o.target;x(l=>({...l,[a]:s?s[0]:r}))},g=()=>{new Audio("/Grocery_App/assets/sounds/tick.mp3").play()},y=o=>{o.preventDefault();const{name:a,address:r,phone:s,slot:l,screenshot:b}=m;if(!a||!r||!s||!l){alert("Please fill all fields!");return}if(i<=199&&!b){alert("Please upload payment screenshot!");return}d(!0),g();const N=`ğŸ›’ *New Order*
ğŸ‘¤ ${a}
ğŸ“ ${s}
ğŸ  ${r}
ğŸ•’ ${l}

`+h.map((n,v)=>`${v+1}. ${n.name} - â‚¹${n.price} Ã— ${n.quantity} = â‚¹${n.price*n.quantity}`).join(`
`)+`

ğŸ’° *Total:* â‚¹${i}`,p=encodeURIComponent(N),C=/Android|iPhone/i.test(navigator.userAgent)?`https://wa.me/917417805735?text=${p}`:`https://web.whatsapp.com/send?phone=917417805735&text=${p}`;setTimeout(()=>{window.open(C,"_blank"),j(!0)},1500),setTimeout(()=>{d(!1),u("/")},3500)};return e.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-10 mt-14 relative",children:[e.jsx("h2",{className:"text-3xl font-bold mb-6 text-green-700",children:"ğŸ§¾ Checkout"}),e.jsxs("form",{onSubmit:y,className:"space-y-5",children:[e.jsx("input",{name:"name",type:"text",placeholder:"ğŸ‘¤ Name",className:"w-full border rounded px-4 py-2",onChange:t}),e.jsx("textarea",{name:"address",rows:"2",placeholder:"ğŸ  Address",className:"w-full border rounded px-4 py-2",onChange:t}),e.jsx("input",{name:"phone",type:"tel",placeholder:"ğŸ“ Phone Number",className:"w-full border rounded px-4 py-2",onChange:t}),e.jsxs("select",{name:"slot",className:"w-full border rounded px-4 py-2",onChange:t,children:[e.jsx("option",{value:"",children:"ğŸ•’ Select Delivery Slot"}),e.jsx("option",{children:"Morning (7AM - 10AM)"}),e.jsx("option",{children:"Afternoon (12PM - 3PM)"}),e.jsx("option",{children:"Evening (4PM - 7PM)"}),e.jsx("option",{children:"Night (8PM - 10PM)"})]}),i<=199&&e.jsx("input",{name:"screenshot",type:"file",accept:"image/*",className:"w-full border rounded px-4 py-2",onChange:t}),e.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white py-3 rounded font-bold",children:"âœ… Confirm Order"})]}),f&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-32 h-32 rounded-full bg-green-500 flex items-center justify-center animate-scaleIn shadow-xl",children:e.jsx("svg",{className:"w-16 h-16 text-white",fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}),e.jsx("p",{className:"mt-4 text-xl text-white font-semibold",children:"Order Confirmed"}),w&&e.jsx("p",{className:"text-sm text-white mt-1",children:"âœ… WhatsApp opened successfully."})]})})]})};export{S as default};
